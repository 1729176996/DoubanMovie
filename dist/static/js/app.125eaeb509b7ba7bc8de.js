webpackJsonp([1],{"8X+d":function(t,e){},GC24:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),a=s("GQaK"),n=s("7t+N"),l=s.n(n),r={name:"movielist",data:function(){return{list:[],start:0,count:10,listscroll:null,type:""}},mounted:function(){},methods:{init:function(t){this.type=t,this.getList(!0)},getList:function(t){var e=this,s=e.start;if(t)s=0,e.list=[];else if("weekly"==e.type||"us_box"==e.type||"new_movies"==e.type)return e.listscroll.finishPullUp(),void e.listscroll.refresh();var i={start:s,count:e.count,apikey:"0df993c66c0c636e29ecbb5344252a4a"};l.a.ajax({url:"https://api.douban.com/v2/movie/"+e.type,type:"GET",data:i,dataType:"jsonp",jsonp:"callback",timeout:8e3,success:function(i){console.log(i),i&&i.subjects&&i.subjects.length>0&&(e.list=e.list.concat(i.subjects),e.start=s+e.count),e.$nextTick(function(){t?(e.listscroll&&e.listscroll.destroy(),e.listscroll=new a.a(e.$refs.wrapper,{click:!0,pullUpLoad:{threshold:50}}),e.listscroll.on("pullingUp",function(){console.log("上拉加载"),e.getList(!1)})):(e.listscroll.finishPullUp(),e.listscroll.refresh())})},error:function(t,s,i,a){console.log(a),e.$nextTick(function(){e.listscroll&&(e.listscroll.finishPullUp(),e.listscroll.refresh())})}})},showDetail:function(t){this.$emit("showDetail",t.id)}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrapper",staticClass:"wrapper"},[s("div",{staticClass:"content"},[s("ul",t._l(t.list,function(e){return s("li",{attrs:{id:e.id}},[e.subject?s("div",{staticClass:"list-item",on:{click:function(s){return t.showDetail(e.subject)}}},[e&&e.subject&&e.subject.images&&e.subject.images.small?s("div",{staticClass:"cover"},[s("img",{attrs:{src:e.subject.images.small}})]):t._e(),t._v(" "),s("div",{staticClass:"flex"},[s("a",[t._v(t._s(e.subject.title)),e.subject.title!=e.subject.original_title?s("span",[t._v(" / "+t._s(e.subject.original_title))]):t._e()]),t._v(" "),s("div",[t._v("导演:"),t._l(e.subject.directors,function(e){return s("span",[t._v(" "+t._s(e.name))])})],2),t._v(" "),s("div",[t._v("主演:"),t._l(e.subject.casts,function(e){return s("span",[t._v(" "+t._s(e.name))])})],2),t._v(" "),s("div",[t._v(t._s(e.year)),t._l(e.subject.genres,function(e){return s("span",[t._v(" "+t._s(e))])})],2)])]):t._e(),t._v(" "),e.subject?t._e():s("div",{staticClass:"list-item",on:{click:function(s){return t.showDetail(e)}}},[e&&e.images&&e.images.small?s("div",{staticClass:"cover"},[s("img",{attrs:{src:e.images.small}})]):t._e(),t._v(" "),s("div",{staticClass:"flex"},[s("a",[t._v(t._s(e.title)),e.title!=e.original_title?s("span",[t._v(" / "+t._s(e.original_title))]):t._e()]),t._v(" "),s("div",[t._v("导演:"),t._l(e.directors,function(e){return s("span",[t._v(" "+t._s(e.name))])})],2),t._v(" "),s("div",[t._v("主演:"),t._l(e.casts,function(e){return s("span",[t._v(" "+t._s(e.name))])})],2),t._v(" "),s("div",[t._v(t._s(e.year)),t._l(e.genres,function(e){return s("span",[t._v(" "+t._s(e))])})],2)])])])}),0)])])},staticRenderFns:[]};var c=s("VU/8")(r,o,!1,function(t){s("R8Ao")},null,null).exports,v={name:"detail",data:function(){return{detailObj:{},detailscroll:null}},mounted:function(){},methods:{init:function(t){var e=this,s={apikey:"0df993c66c0c636e29ecbb5344252a4a"};l.a.ajax({url:"https://api.douban.com/v2/movie/subject/"+t,type:"GET",data:s,dataType:"jsonp",jsonp:"callback",timeout:8e3,success:function(t){console.log(t),e.detailObj=t||{},e.$nextTick(function(){e.detailscroll&&e.detailscroll.destroy(),e.detailscroll=new a.a(e.$refs.wrapper,{click:!0})})},error:function(t,s,i,a){console.log(a),e.$nextTick(function(){e.detailscroll&&(e.detailscroll.finishPullUp(),e.detailscroll.refresh())})}})}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrapper",staticClass:"wrapper"},[s("div",{staticClass:"content"},[t.detailObj&&t.detailObj.images&&t.detailObj.images.large?s("div",{staticClass:"detail-cover"},[s("img",{attrs:{src:t.detailObj.images.large}})]):t._e(),t._v(" "),s("div",{staticClass:"mt1"},[s("b",[t._v(t._s(t.detailObj.title)+" "),s("span",{staticClass:"c-grey"},[t._v(" ("+t._s(t.detailObj.year)+")")])])]),t._v(" "),t.detailObj.title!=t.detailObj.original_title?s("div",{staticClass:"mt1"},[s("b",[t._v(t._s(t.detailObj.original_title))])]):t._e(),t._v(" "),s("div",{staticClass:"mt1"},[t._v("导演: "),t._l(t.detailObj.directors,function(e,i){return s("span",[0!=i?s("a",[t._v(" / ")]):t._e(),t._v(t._s(e.name))])})],2),t._v(" "),s("div",{staticClass:"mt1"},[t._v("编剧: "),t._l(t.detailObj.writers,function(e,i){return s("span",[0!=i?s("a",[t._v(" / ")]):t._e(),t._v(t._s(e.name))])})],2),t._v(" "),s("div",{staticClass:"mt1"},[t._v("主演: "),t._l(t.detailObj.casts,function(e,i){return s("span",[0!=i?s("a",[t._v(" / ")]):t._e(),t._v(t._s(e.name))])})],2),t._v(" "),s("div",{staticClass:"mt1"},[t._v("类型: "),t._l(t.detailObj.genres,function(e,i){return s("span",[0!=i?s("a",[t._v(" / ")]):t._e(),t._v(t._s(e))])})],2),t._v(" "),s("div",{staticClass:"mt1"},[t._v("制片国家/地区: "),t._l(t.detailObj.countries,function(e,i){return s("span",[0!=i?s("a",[t._v(" / ")]):t._e(),t._v(t._s(e))])})],2),t._v(" "),s("div",{staticClass:"mt1"},[t._v("语言: "),t._l(t.detailObj.languages,function(e,i){return s("span",[0!=i?s("a",[t._v(" / ")]):t._e(),t._v(t._s(e))])})],2),t._v(" "),s("div",{staticClass:"mt1"},[t._v("上映日期: "),t._l(t.detailObj.pubdates,function(e,i){return s("span",[0!=i?s("a",[t._v(" / ")]):t._e(),t._v(t._s(e))])})],2),t._v(" "),s("div",{staticClass:"mt1"},[t._v("片长: "),t._l(t.detailObj.durations,function(e,i){return s("span",[0!=i?s("a",[t._v(" / ")]):t._e(),t._v(t._s(e))])})],2),t._v(" "),s("div",{staticClass:"mt1"},[t._v("又名: "),t._l(t.detailObj.aka,function(e,i){return s("span",[0!=i?s("a",[t._v(" / ")]):t._e(),t._v(t._s(e))])})],2),t._v(" "),t.detailObj.videos&&t.detailObj.videos.length>0?s("div",{staticClass:"mt1 watch-list"},[s("div",{staticClass:"list-item"},[t._v("观看:")]),t._v(" "),t._l(t.detailObj.videos,function(e){return s("div",{staticClass:"list-item"},[s("div",{staticClass:"flex",staticStyle:{"padding-left":"1em"}},[s("a",{on:{click:function(s){return t.view(e.sample_link)}}},[t._v(t._s(e.source.name))])]),t._v(" "),s("div",[t._v(t._s(e.need_pay?"VIP免费观看":"免费观看"))])])})],2):t._e()])])},staticRenderFns:[]};var u=s("VU/8")(v,_,!1,function(t){s("RnvV")},null,null).exports,d={name:"navbar",props:{clicked:String},data:function(){return{navList:[{name:"正在热映",code:"in_theaters"},{name:"即将上映",code:"coming_soon"},{name:"top250",code:"top250"},{name:"口碑榜",code:"weekly"},{name:"北美票房榜",code:"us_box"},{name:"新片榜",code:"new_movies"}]}},methods:{clickNav:function(t){this.$emit("getClicked",t.code)}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navbar"},t._l(t.navList,function(e){return s("div",{staticClass:"nav",class:{active:e.code==t.clicked},on:{click:function(s){return t.clickNav(e)}}},[t._v(t._s(e.name))])}),0)},staticRenderFns:[]};var m={name:"app",components:{navbar:s("VU/8")(d,p,!1,function(t){s("8X+d")},null,null).exports,movielist:c,detail:u},data:function(){return{clicked:"",showDetailFlag:!1}},mounted:function(){this.clicked="top250",this.$refs.movielist.init(this.clicked)},methods:{getClickedFromNavbar:function(t){this.clicked=t,this.showDetailFlag=!1,this.$refs.movielist.init(this.clicked)},showDetailFromMovielist:function(t){this.showDetailFlag=!0,this.$refs.detail.init(t)},closeDetail:function(){this.showDetailFlag=!1}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("movielist",{directives:[{name:"show",rawName:"v-show",value:!t.showDetailFlag,expression:"!showDetailFlag"}],ref:"movielist",on:{showDetail:t.showDetailFromMovielist}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDetailFlag,expression:"showDetailFlag"}],staticClass:"detail-nav",on:{click:t.closeDetail}},[t._v("返回列表")]),t._v(" "),s("detail",{directives:[{name:"show",rawName:"v-show",value:t.showDetailFlag,expression:"showDetailFlag"}],ref:"detail"}),t._v(" "),s("navbar",{attrs:{clicked:t.clicked},on:{getClicked:t.getClickedFromNavbar}})],1)},staticRenderFns:[]};var h=s("VU/8")(m,f,!1,function(t){s("GC24")},null,null).exports,g=s("/ocq"),b={name:"HelloWorld",props:{msg:String}},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),t._m(0),t._v(" "),s("h3",[t._v("Installed CLI Plugins")]),t._v(" "),t._m(1),t._v(" "),s("h3",[t._v("Essential Links")]),t._v(" "),t._m(2),t._v(" "),s("h3",[t._v("Ecosystem")]),t._v(" "),t._m(3)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n    For a guide and recipes on how to configure / customize this project,"),e("br"),this._v("\n    check out the\n    "),e("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[this._v("vue-cli documentation")]),this._v(".\n  ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[this._v("babel")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Core Docs")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Forum")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Community Chat")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[t._v("Twitter")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("News")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-router")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[t._v("vue-devtools")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-loader")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[t._v("awesome-vue")])])])}]};var w=s("VU/8")(b,j,!1,function(t){s("Ywdg")},"data-v-379548a4",null).exports;i.a.use(g.a);var k=new g.a({routes:[{path:"/",name:"HelloWorld",component:w}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:k,components:{App:h},template:"<App/>"})},R8Ao:function(t,e){},RnvV:function(t,e){},Ywdg:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.125eaeb509b7ba7bc8de.js.map